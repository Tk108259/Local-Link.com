<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Details – LocalServe</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { background: #f6f8fc; font-family: 'Segoe UI', 'Roboto', Arial, sans-serif; margin: 0; color: #242a38; }
    .container { max-width: 950px; margin: 32px auto; background: #fff; border-radius: 16px; box-shadow: 0 6px 32px rgba(34,60,98,0.10); padding: 32px 24px; }
    .gallery { display: flex; gap: 18px; align-items: flex-start; }
    .gallery-main { width: 350px; height: 260px; border-radius: 10px; object-fit: cover; box-shadow: 0 2px 10px #e5eaf4;}
    .gallery-thumbs { display: flex; flex-direction: column; gap: 10px; margin-left: 8px;}
    .gallery-thumb { width: 60px; height: 48px; border-radius: 7px; object-fit: cover; cursor: pointer; border: 2px solid transparent; }
    .gallery-thumb.selected { border: 2px solid #357edd; }
    .info { flex: 1; margin-left: 40px;}
    .info h1 { margin-top: 0; font-size: 2rem;}
    .stars { color: gold; font-size: 18px; margin-left: 8px;}
    .info .desc { margin: 12px 0; font-size: 1.1rem;}
    .info .price { font-size: 1.2rem; font-weight: 600; color: #357edd;}
    .info .service-list { margin: 16px 0 20px 0; padding-left: 18px;}
    .info .action-btns button {
      background: #357edd; color: white; border: none; border-radius: 8px;
      padding: 13px 22px; font-size: 16px; font-weight: 600; margin-right: 12px; margin-bottom: 8px; cursor: pointer; transition: background 0.16s;
    }
    .info .action-btns button:hover { background: #235cb4; }
    .back-link { display: inline-block; margin-bottom: 22px; color: #357edd; text-decoration: none; font-weight: 500; font-size: 16px;}
    .back-link:hover { text-decoration: underline; }
    @media (max-width: 800px) {
      .gallery { flex-direction: column; align-items: stretch;}
      .gallery-main { width: 100%; max-width: 100vw; height: 220px;}
      .info { margin-left: 0; }
      .container { padding: 12px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="Business listings.html" class="back-link">&larr; Back to Listings</a>
    <div class="gallery">
      <img src="images/Baking_Baddie.jpg" class="gallery-main" id="mainImage" alt="Business Image">
      <div class="gallery-thumbs" id="thumbs"></div>
      <div class="info">
        <h1 id="bizName">Bread Baddie<span class="stars" id="bizStars">★★★★★</span></h1>
        <div class="desc" id="bizDesc">We are a bespoke bakery specialising in artisan Bannana bread, scones and crunchies.</div>
        <div class="price" id="bizPrice"></div>
        <div class="service-list" id="bizServices"></div>
        <div class="action-btns">
          <button onclick="contactBusiness()">Contact Now</button>
          <button onclick="window.location.href='Index.html'">Register Your Business</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Reuse modal from business listings for rating -->
  <div class="modal-overlay" id="modalOverlay" style="z-index:1000;">
    <div class="modal">
      <h3>Rate the Service</h3>
      <div id="starRating">
        <span class="stars-rate" data-rate="1">&#9733;</span>
        <span class="stars-rate" data-rate="2">&#9733;</span>
        <span class="stars-rate" data-rate="3">&#9733;</span>
        <span class="stars-rate" data-rate="4">&#9733;</span>
        <span class="stars-rate" data-rate="5">&#9733;</span>
      </div>
      <div id="rateMsg" style="margin-top:10px;font-size:15px;color:#357edd;display:none;">Thank you for your feedback!</div>
      <button onclick="closeModal()">Close</button>
    </div>
  </div>
  <script>
    // Dummy data for demo, replace with your backend/JSON as needed!
    const businesses = {
      'Baking Baddie': {
        name: "Baking Baddie",
        images: ["images/Baking_Baddie.jpg", "images/Scones.jpg", "images/Bannana Bread.jpg"],
        stars: 5,
        desc: "Artisan cakes & treats for every celebration. Fresh, custom and affordable.",
        price: "RR150",
        services: ["The Best Bannana Bread yet", "", "Ranges from cookies and crunchies"]
      },
      'SweetBakesSA': {
        name: "SweetBakes SA",
        images: ["images/cake2.jpg", "images/cake4.jpg", "images/cake1.jpg"],
        stars: 4,
        desc: "Delicious baked goods made with love. Birthdays, weddings, more.",
        price: "R200 – R450",
        services: ["Cupcakes", "Wedding Cakes", "Birthday Cakes"]
      }
    };
    // Get business from URL
    function getQuery(name) {
      return new URLSearchParams(window.location.search).get(name);
    }
    const bizId = getQuery('biz') || 'ReasBakery';
    const bizData = businesses[bizId] || businesses['ReasBakery'];
    // Fill data
    document.getElementById('bizName').innerHTML = bizData.name + ' <span class="stars">' + "★★★★★☆☆☆☆☆".slice(5-bizData.stars, 10-bizData.stars) + '</span>';
    document.getElementById('bizDesc').innerText = bizData.desc;
    document.getElementById('bizPrice').innerText = bizData.price;
    document.getElementById('bizServices').innerHTML = '<ul>' + bizData.services.map(s => `<li>${s}</li>`).join('') + '</ul>';
    // Gallery
    const mainImage = document.getElementById('mainImage');
    const thumbs = document.getElementById('thumbs');
    bizData.images.forEach((img, idx) => {
      let thumb = document.createElement('img');
      thumb.src = img;
      thumb.className = 'gallery-thumb' + (idx === 0 ? ' selected' : '');
      thumb.onclick = function() {
        mainImage.src = img;
        document.querySelectorAll('.gallery-thumb').forEach(t => t.classList.remove('selected'));
        thumb.classList.add('selected');
      };
      thumbs.appendChild(thumb);
    });
    // CONTACT MODAL
    function contactBusiness() {
      document.getElementById('modalOverlay').style.display = 'flex';
      document.getElementById('rateMsg').style.display = 'none';
      document.querySelectorAll('.stars-rate').forEach(s => s.classList.remove('selected'));
    }
    function closeModal() {
      document.getElementById('modalOverlay').style.display = 'none';
    }
    // STAR RATING
    document.querySelectorAll('.stars-rate').forEach(star => {
      star.addEventListener('mouseenter', function() {
        let rate = parseInt(this.getAttribute('data-rate'));
        document.querySelectorAll('.stars-rate').forEach(s => {
          if (parseInt(s.getAttribute('data-rate')) <= rate)
            s.classList.add('selected');
          else
            s.classList.remove('selected');
        });
      });
      star.addEventListener('mouseleave', function() {
        document.querySelectorAll('.stars-rate').forEach(s => s.classList.remove('selected'));
      });
      star.addEventListener('click', function() {
        let rate = parseInt(this.getAttribute('data-rate'));
        document.querySelectorAll('.stars-rate').forEach(s => {
          if (parseInt(s.getAttribute('data-rate')) <= rate)
            s.classList.add('selected');
          else
            s.classList.remove('selected');
        });
        document.getElementById('rateMsg').style.display = 'block';
      });
    });
    document.getElementById('modalOverlay').addEventListener('click', function(e) {
      if (e.target === this) closeModal();
    });
  </script>
</body>
</html>


